/* MAVA Dark Mode Theme for Claude Code WebUI */
/* Dark mode version - matching mava-frontend dark aesthetic */

/* ============================================
   FONTS - oso-sans from Adobe Typekit
   ============================================ */

body {
  font-family: "oso-sans", "Inter", system-ui, sans-serif !important;
  font-weight: 400;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ============================================
   MAVA CHAT BUBBLE STYLES
   ============================================ */

/* User message bubble - darker muted accent for dark mode with white text */
.mava-user-bubble {
  background: linear-gradient(135deg, #4a3d30, #3d3228) !important;
  border: 1px solid #5a4a3a !important;
  color: var(--foreground) !important;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3) !important;
}

/* Assistant message bubble - transparent with no border */
.mava-assistant-bubble {
  background-color: transparent !important;
  border: none !important;
  box-shadow: none !important;
  color: var(--foreground) !important;
}

/* Text styles */
.mava-text {
  color: var(--foreground) !important;
  font-family: "oso-sans", "Inter", system-ui, sans-serif !important;
}

.mava-accent-text {
  color: var(--accent-primary) !important;
}

/* User avatar - MAVA logo */
.mava-user-avatar {
  background-color: transparent !important;
  padding: 0 !important;
  border: none !important;
}

/* ============================================
   HEADER LOGO AND TITLE
   ============================================ */

/* Hide original text and replace with "Claude Code" */
button[aria-label="Back to project selection"] {
  font-size: 0 !important;
  display: flex !important;
  flex-direction: row !important;
  align-items: center !important;
  background-color: transparent !important;
  background: transparent !important;
}

button[aria-label="Back to project selection"]::after {
  display: flex !important;
  align-items: center !important;
  margin-top: -4px;
}

/* Remove background from header/nav breadcrumb area */
nav[aria-label="Breadcrumb"],
nav[aria-label="Breadcrumb"] > div,
nav[aria-label="Breadcrumb"] div,
.flex.items-center.justify-between,
.flex.items-center.gap-4,
.flex.items-center.gap-4 > div,
header pre,
header code,
nav pre,
nav code,
nav[aria-label="Breadcrumb"] pre,
nav[aria-label="Breadcrumb"] code {
  background-color: transparent !important;
  background: transparent !important;
}

button[aria-label="Back to project selection"]::after {
  content: "Claude Code";
  font-size: 1.875rem;
  font-weight: 700;
  color: var(--foreground);
  letter-spacing: -0.025em;
}

/* Responsive - smaller on mobile */
@media (max-width: 640px) {
  button[aria-label="Back to project selection"]::after {
    font-size: 1.25rem;
  }

  /* Hide breadcrumb separator and secondary title on small screens */
  nav[aria-label="Breadcrumb"] span[aria-hidden="true"],
  nav[aria-label="Breadcrumb"] h1[aria-current="page"] {
    display: none !important;
  }

  /* Ensure breadcrumb container doesn't wrap */
  nav[aria-label="Breadcrumb"] > div {
    flex-wrap: nowrap !important;
    white-space: nowrap !important;
  }

  /* Make the working directory path smaller and wrap nicely */
  nav[aria-label="Breadcrumb"] + div,
  .font-mono {
    font-size: 0.7rem !important;
    word-break: break-all !important;
  }

  /* Hide session ID on very small screens */
  nav[aria-label="Breadcrumb"] + div span.ml-2 {
    display: none !important;
  }
}

/* Medium screens - show abbreviated text */
@media (min-width: 641px) and (max-width: 900px) {
  button[aria-label="Back to project selection"]::after {
    font-size: 1.5rem;
  }

  /* Slightly smaller breadcrumb text */
  nav[aria-label="Breadcrumb"] h1[aria-current="page"],
  nav[aria-label="Breadcrumb"] span[aria-hidden="true"] {
    font-size: 1.25rem !important;
  }
}

:root {
  /* Dark mode colors */
  --background: #252525;
  --foreground: #e5e5e5;
  --header-bg: #252525;
  --border-color: rgba(255, 255, 255, 0.12);
  --card-bg: #2e2e2e;
  --sidebar-bg: #252525;
  --panel-bg: rgba(37, 37, 37, 0.9);
  --muted-text: #a3a3a3;
  --accent-text: #ffffff;
  --scrollbar-thumb: #3a3a3a;
  --scrollbar-thumb-hover: #4a4a4a;
  --selection-bg: rgba(139, 109, 86, 0.4);
  --accent-primary: #c4a882;
  --status-success: #4ade80;
  --status-success-bg: rgba(74, 222, 128, 0.1);
  --status-success-border: rgba(74, 222, 128, 0.25);
  --status-warning: #fbbf24;
  --status-warning-bg: rgba(251, 191, 36, 0.15);
  --status-error: #f87171;
  --status-info: #60a5fa;
  --status-purple: #a78bfa;
  --canvas-bg: #252525;
  --content-bg: #2e2e2e;
  --heading-text: #d4c4b0;

  /* Banana accent colors - adjusted for dark mode */
  --banana-400: #c4a882;
  --banana-500: #b89b70;
  --banana-600: #a88b5e;

  /* Chimp neutral scale - inverted for dark mode */
  --chimp-900: #fafafa;
  --chimp-800: #f5f5f5;
  --chimp-700: #e5e5e5;
  --chimp-600: #d4d4d4;
  --chimp-500: #a3a3a3;
  --chimp-400: #737373;
  --chimp-300: #525252;
  --chimp-200: #404040;
  --chimp-100: #262626;

  color-scheme: dark;
}

/* Force dark mode */
html, html.dark {
  color-scheme: dark;
}

/* Main background */
body,
html.dark body,
html body {
  background-color: var(--background) !important;
  color: var(--foreground) !important;
  font-weight: 400;
  text-rendering: optimizeLegibility;
}

/* Override light mode backgrounds */
.bg-slate-50,
.bg-slate-100,
.bg-white,
.bg-white\/80,
.bg-white\/70,
.dark .dark\:bg-slate-900,
.dark .dark\:bg-slate-800,
.dark .dark\:bg-slate-800\/80,
.dark .dark\:bg-slate-800\/70,
.dark .dark\:bg-slate-700,
.dark .dark\:bg-slate-700\/50,
.bg-slate-900,
.bg-slate-800 {
  background-color: var(--background) !important;
}

/* Header styling */
header,
.dark header,
nav,
.dark nav {
  background-color: var(--header-bg) !important;
  border-color: var(--border-color) !important;
  backdrop-filter: blur(12px);
}

/* Card and panel backgrounds */
.bg-white,
.bg-white\/80,
.bg-white\/70,
.bg-slate-50,
.bg-slate-100,
.dark .dark\:bg-slate-800,
.dark .dark\:bg-slate-700 {
  background-color: var(--card-bg) !important;
}

/* Message containers - content background */
.rounded-2xl,
.rounded-xl:not(#theme-toggle-btn) {
  background-color: var(--content-bg) !important;
  border-color: transparent !important;
}

/* Theme toggle button - match header background */
#theme-toggle-btn.rounded-xl {
  background-color: #252525 !important;
  border-color: var(--border-color) !important;
  padding: 6px !important;
}

#theme-toggle-btn.rounded-xl:hover {
  background-color: #1a1a1a !important;
}

/* Header buttons (theme toggle, settings, history) - reduced padding */
header button.rounded-xl,
nav button.rounded-xl,
.flex.items-center.gap-4 button.rounded-xl,
button[aria-label="Open settings"],
button[aria-label="Toggle theme"],
button[aria-label="View conversation history"] {
  padding: 6px !important;
}

/* Assistant message bubbles - dark styled */
.bg-slate-200,
.bg-slate-100,
.bg-slate-800\/80,
.bg-slate-700\/50,
.bg-white\/80,
.dark .dark\:bg-slate-700,
.dark .dark\:bg-slate-800\/80,
.dark .dark\:bg-slate-800,
.dark .dark\:bg-slate-700\/50,
div[class*="bg-slate-200"],
div[class*="bg-slate-100"],
div[class*="bg-slate-800"],
div[class*="bg-slate-700"],
div[class*="bg-white/80"],
[class*="bg-slate-200"],
[class*="bg-slate-100"] {
  background-color: #2e2e2e !important;
}

/* Claude chat bubble container - specific targeting */
.rounded-lg.bg-slate-200,
.rounded-lg[class*="bg-slate-200"],
div.rounded-lg.bg-slate-200,
div[class*="rounded-lg"][class*="bg-slate-200"],
div[class*="max-w"][class*="rounded-lg"][class*="bg-slate"] {
  background-color: #252525 !important;
  border: 1px solid rgba(255, 255, 255, 0.08) !important;
}

/* Pre/code inside Claude chat bubble - transparent to match container */
.rounded-lg.bg-slate-200 pre,
.rounded-lg.bg-slate-200 code,
div[class*="rounded-lg"][class*="bg-slate-200"] pre,
div[class*="rounded-lg"][class*="bg-slate-200"] code,
div[class*="max-w"][class*="rounded-lg"][class*="bg-slate"] pre,
div[class*="max-w"][class*="rounded-lg"][class*="bg-slate"] code {
  background-color: transparent !important;
  background: transparent !important;
}

/* Panel backgrounds */
aside,
.dark aside,
[class*="sidebar"] {
  background-color: var(--sidebar-bg) !important;
}

/* Input fields */
textarea,
input,
.dark textarea,
.dark input {
  background-color: #1a1a1a !important;
  border-color: rgba(255, 255, 255, 0.12) !important;
  color: var(--foreground) !important;
}

textarea::placeholder,
input::placeholder {
  color: var(--muted-text) !important;
}

/* Chat input textarea - match MAVA size */
form textarea,
.flex-shrink-0 textarea {
  min-height: 130px !important;
  max-height: 200px !important;
  padding: 12px 80px 12px 16px !important;
  border-radius: 16px !important;
  background-color: #1a1a1a !important;
  border: 1px solid rgba(255, 255, 255, 0.12) !important;
  font-family: "oso-sans", "Inter", system-ui, sans-serif !important;
  font-size: 14px !important;
  line-height: 1.6 !important;
  resize: none !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4), 0 2px 4px rgba(0, 0, 0, 0.3) !important;
}

form textarea:focus,
.flex-shrink-0 textarea:focus {
  border-color: var(--banana-500) !important;
  outline: none !important;
  box-shadow: 0 0 0 2px rgba(196, 181, 126, 0.2) !important;
}

/* Chat input container - rounded corners */
form > div,
.flex-shrink-0 > div {
  border-radius: 20px !important;
}

/* Text colors - override for dark mode */
.dark .dark\:text-slate-100,
.dark .dark\:text-slate-200,
.dark .dark\:text-slate-300,
.text-slate-900,
.text-slate-800,
.text-slate-700 {
  color: var(--foreground) !important;
}

.dark .dark\:text-slate-400,
.dark .dark\:text-slate-500,
.text-slate-500,
.text-slate-600 {
  color: var(--muted-text) !important;
}

/* Headings */
h1, h2, h3, h4, h5, h6 {
  color: var(--heading-text) !important;
}

/* Primary buttons - Banana gradient style */
button[type="submit"] {
  background: linear-gradient(to bottom, var(--banana-400), var(--banana-600)) !important;
  color: #1a1a1a !important;
  border: none !important;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.15) !important;
}

button[type="submit"]:hover {
  background: linear-gradient(to bottom, var(--banana-400), var(--banana-500)) !important;
}

/* User message bubbles - bg-blue-600 */
.bg-blue-600,
.bg-blue-500,
.bg-blue-700,
.dark .dark\:bg-blue-600,
.dark .dark\:bg-blue-500,
.dark .dark\:bg-blue-700,
[class*="bg-blue-6"],
[class*="bg-blue-5"],
[class*="bg-blue-7"] {
  background-color: var(--banana-500) !important;
  color: #1a1a1a !important;
  box-shadow: none !important;
}

/* User message text colors */
.bg-blue-600 .text-blue-100,
.bg-blue-600 .text-blue-200,
.bg-blue-600.text-white,
.bg-blue-600 .opacity-90,
.bg-blue-600 .opacity-70,
[class*="bg-blue-6"] .text-blue-100,
[class*="bg-blue-6"] .text-blue-200,
[class*="bg-blue-6"] span {
  color: #1a1a1a !important;
}

/* User message bubble - styled background */
.rounded-lg.bg-blue-600.text-white,
[class*="max-w"][class*="bg-blue-600"],
div.bg-blue-600.text-white {
  background-color: var(--banana-500) !important;
  color: #1a1a1a !important;
  border: none !important;
}

/* User message pre/code text - transparent inside bubble */
.bg-blue-600 pre,
.bg-blue-600 code,
div.bg-blue-600.text-white pre,
div.bg-blue-600.text-white code {
  background-color: transparent !important;
  color: #1a1a1a !important;
}

/* Secondary buttons */
.bg-slate-200,
.bg-slate-100,
.dark .dark\:bg-slate-700,
.dark .dark\:bg-slate-600 {
  background-color: var(--header-bg) !important;
  color: var(--foreground) !important;
  border-color: var(--border-color) !important;
}

/* Links */
a,
.text-blue-600,
.text-blue-500,
.dark .dark\:text-blue-400,
.dark .dark\:text-blue-300 {
  color: var(--accent-primary) !important;
}

a:hover {
  color: var(--banana-400) !important;
}

/* Code blocks */
pre,
code,
.font-mono {
  background-color: #252525 !important;
  color: var(--foreground) !important;
  border-color: var(--border-color) !important;
}

.dark pre,
.dark code {
  background-color: #252525 !important;
  color: var(--foreground) !important;
}

/* Status colors */
.bg-green-500,
.bg-emerald-500,
.bg-emerald-400,
.dark .dark\:bg-green-700,
.dark .dark\:bg-emerald-600,
.dark .dark\:bg-emerald-500 {
  background-color: var(--status-success) !important;
}

.bg-green-100,
.bg-green-50,
.bg-emerald-100,
.bg-emerald-50,
.bg-emerald-50\/80,
.dark .dark\:bg-green-900\/20,
.dark .dark\:bg-emerald-900\/20 {
  background-color: #2e2e2e !important;
}

.text-green-700,
.text-green-800,
.text-emerald-700,
.text-emerald-800,
.dark .dark\:text-green-400,
.dark .dark\:text-green-300,
.dark .dark\:text-emerald-400,
.dark .dark\:text-emerald-300 {
  color: var(--status-success) !important;
}

/* Emerald borders */
.border-emerald-200,
.border-emerald-300,
.border-emerald-700,
.border-emerald-800,
.border-green-200,
.border-green-300,
.dark .dark\:border-emerald-700,
.dark .dark\:border-emerald-800 {
  border-color: var(--status-success-border) !important;
}

.bg-red-100,
.dark .dark\:bg-red-900\/20 {
  background-color: rgba(248, 113, 113, 0.15) !important;
}

.text-red-600,
.text-red-500,
.dark .dark\:text-red-400 {
  color: var(--status-error) !important;
}

.bg-amber-50,
.bg-amber-100,
.bg-yellow-100,
.dark .dark\:bg-amber-900\/20,
.dark .dark\:bg-yellow-900\/20 {
  background-color: var(--status-warning-bg) !important;
}

.text-amber-700,
.text-amber-600,
.text-yellow-700,
.dark .dark\:text-amber-400,
.dark .dark\:text-yellow-400 {
  color: var(--status-warning) !important;
}

.text-blue-700,
.dark .dark\:text-blue-400 {
  color: var(--status-info) !important;
}

.text-purple-700,
.dark .dark\:text-purple-400 {
  color: var(--status-purple) !important;
}

/* Purple/Violet borders - for Claude's Reasoning bubble */
.border-purple-200,
.border-purple-300,
.border-purple-400,
.border-purple-500,
.border-purple-700,
.border-purple-800,
.border-violet-200,
.border-violet-300,
.border-violet-400,
.border-violet-500,
.border-violet-700,
.border-violet-800,
.dark .dark\:border-purple-700,
.dark .dark\:border-purple-800,
.dark .dark\:border-violet-700,
.dark .dark\:border-violet-800,
[class*="border-purple"],
[class*="border-violet"] {
  border-color: var(--status-purple) !important;
}

/* Purple/Violet background for thinking bubble */
.bg-purple-50,
.bg-purple-100,
.bg-violet-50,
.bg-violet-100,
.dark .dark\:bg-purple-900\/20,
.dark .dark\:bg-violet-900\/20 {
  background-color: rgba(167, 139, 250, 0.1) !important;
}

/* Borders */
.border-slate-200,
.border-slate-300,
.dark .dark\:border-slate-600,
.dark .dark\:border-slate-700,
[class*="border-b"],
[class*="border-t"] {
  border-color: var(--border-color) !important;
}

/* Shadows - deeper for dark mode */
.shadow-sm,
.shadow,
.shadow-md,
.shadow-lg,
.shadow-xl {
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.4), 0 1px 2px rgba(0, 0, 0, 0.3) !important;
}

/* Scrollbar styling */
::-webkit-scrollbar {
  width: 4px;
  height: 4px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: var(--scrollbar-thumb);
  border-radius: 2px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--scrollbar-thumb-hover);
}

/* Firefox scrollbar */
* {
  scrollbar-width: thin;
  scrollbar-color: var(--scrollbar-thumb) transparent;
}

/* Selection color */
::selection {
  background: var(--selection-bg);
  color: inherit;
}

/* Focus rings - warm accent */
:where(a, button, input, select, summary):focus-visible {
  outline: 2px solid rgba(196, 168, 130, 0.45) !important;
  outline-offset: 2px;
}

.focus\:ring-blue-500:focus,
.ring-blue-300 {
  --tw-ring-color: var(--banana-500) !important;
}

/* Chat input focus state */
textarea:focus,
textarea:focus-visible,
input:focus,
input:focus-visible {
  outline: 1.5px solid rgba(196, 168, 130, 0.4) !important;
  border-color: rgba(196, 168, 130, 0.5) !important;
  box-shadow: 0 0 0 3px rgba(196, 168, 130, 0.15) !important;
}

/* Override any ring colors */
[class*="ring-"],
[class*="focus:ring"],
.ring-1,
.ring-2 {
  --tw-ring-color: rgba(196, 168, 130, 0.3) !important;
}

/* Focused container around input */
[class*="focus-within"]:focus-within,
div:has(textarea:focus),
div:has(input:focus) {
  border-color: rgba(196, 168, 130, 0.4) !important;
  box-shadow: 0 0 0 2px rgba(196, 168, 130, 0.15) !important;
}

/* Spinners and loading states */
.animate-spin {
  border-top-color: var(--accent-primary) !important;
}

/* ============================================
   TOOL CALLS AND MESSAGE BUBBLES
   ============================================ */

/* Tool call headers (dark containers with file paths) */
[class*="bg-gray-800"],
[class*="bg-gray-900"],
[class*="bg-zinc-800"],
[class*="bg-zinc-900"],
[class*="bg-neutral-800"],
[class*="bg-neutral-900"],
.dark [class*="bg-gray"],
.dark [class*="bg-zinc"],
.dark [class*="bg-neutral"] {
  background-color: #1a1a1a !important;
  color: var(--foreground) !important;
}

/* Tool result status bars - dark background in dark mode */
[class*="bg-green-600"],
[class*="bg-green-700"],
[class*="bg-emerald-600"],
[class*="bg-emerald-700"],
.dark [class*="bg-green-"],
.dark [class*="bg-emerald-"] {
  background-color: #2a2a2a !important;
  color: var(--foreground) !important;
}

/* User message bubbles - comprehensive override */
[class*="bg-teal"],
[class*="bg-cyan"],
[class*="teal"],
[class*="cyan"],
.bg-teal-500,
.bg-teal-600,
.bg-teal-700,
.bg-teal-800,
.bg-teal-900,
.bg-cyan-500,
.bg-cyan-600,
.bg-cyan-700,
.bg-cyan-800,
.bg-cyan-900,
.dark .dark\:bg-teal-500,
.dark .dark\:bg-teal-600,
.dark .dark\:bg-teal-700,
.dark .dark\:bg-teal-800,
.dark .dark\:bg-teal-900,
.dark\:bg-teal-500,
.dark\:bg-teal-600,
.dark\:bg-teal-700,
.dark\:bg-teal-800,
.dark\:bg-teal-900 {
  background-color: var(--banana-500) !important;
  color: #1a1a1a !important;
}

/* ============================================
   TEXT WRAPPING FIX FOR ALL CHAT BUBBLES
   ============================================ */

/* Fix text overflow in ALL message bubbles */
[class*="bg-teal"],
[class*="bg-cyan"],
[class*="bg-blue-6"],
[class*="bg-blue-5"],
[class*="bg-slate"],
[class*="bg-gray"],
[class*="bg-zinc"],
[class*="bg-neutral"],
[class*="rounded-2xl"],
[class*="rounded-xl"],
[class*="rounded-lg"],
.bg-blue-600,
.bg-blue-500,
.bg-teal-500,
.bg-teal-600,
.bg-teal-700,
.bg-teal-800,
div.bg-blue-600.text-white,
.bg-slate-800,
.bg-slate-700,
.bg-slate-800\/80,
.bg-slate-700\/50,
.bg-white\/80,
.dark .dark\:bg-slate-800,
.dark .dark\:bg-slate-700 {
  overflow-wrap: break-word !important;
  word-wrap: break-word !important;
  word-break: break-word !important;
  max-width: 100% !important;
  overflow-x: hidden !important;
}

/* Ensure text content inside ALL bubbles wraps */
[class*="bg-teal"] *,
[class*="bg-cyan"] *,
[class*="bg-blue-6"] *,
[class*="bg-blue-5"] *,
[class*="bg-slate"] *,
[class*="bg-gray"] *,
[class*="bg-zinc"] *,
[class*="rounded-2xl"] *,
[class*="rounded-xl"] *,
[class*="rounded-lg"] *,
.bg-blue-600 *,
.bg-teal-500 *,
.bg-teal-600 *,
.bg-slate-800 *,
.bg-slate-700 * {
  overflow-wrap: break-word !important;
  word-wrap: break-word !important;
  word-break: break-word !important;
}

/* Handle pre/code blocks within ALL messages */
[class*="bg-teal"] pre,
[class*="bg-teal"] code,
[class*="bg-cyan"] pre,
[class*="bg-cyan"] code,
[class*="bg-blue-6"] pre,
[class*="bg-blue-6"] code,
[class*="bg-slate"] pre,
[class*="bg-slate"] code,
[class*="bg-gray"] pre,
[class*="bg-gray"] code,
[class*="rounded-2xl"] pre,
[class*="rounded-2xl"] code,
[class*="rounded-xl"] pre,
[class*="rounded-xl"] code,
.bg-blue-600 pre,
.bg-blue-600 code,
.bg-slate-800 pre,
.bg-slate-800 code {
  white-space: pre-wrap !important;
  word-break: break-all !important;
  overflow-wrap: anywhere !important;
}

/* Tool call containers and file paths */
[class*="font-mono"],
.font-mono,
[class*="monospace"] {
  overflow-wrap: break-word !important;
  word-wrap: break-word !important;
  word-break: break-all !important;
  max-width: 100% !important;
}

/* Assistant message containers */
.prose,
.prose *,
[class*="prose"] *,
article,
article * {
  overflow-wrap: break-word !important;
  word-wrap: break-word !important;
  word-break: break-word !important;
}

/* Global text container fix */
div[class*="max-w"],
div[class*="w-full"],
p,
span {
  overflow-wrap: break-word !important;
  word-wrap: break-word !important;
}

/* ============================================
   TOOL CALL RESULT BOXES FIX
   ============================================ */

/* Remove any strikethrough styling */
[class*="line-through"],
.line-through,
del,
s,
strike {
  text-decoration: none !important;
}

/* Tool call result containers */
[class*="border"][class*="rounded"],
[class*="border-l"],
[class*="border-emerald"],
[class*="border-green"],
[class*="bg-emerald"],
[class*="bg-green"] {
  overflow-wrap: break-word !important;
  word-wrap: break-word !important;
  word-break: break-word !important;
  max-width: 100% !important;
  overflow-x: hidden !important;
  text-decoration: none !important;
}

/* Tool name and status text */
[class*="border"][class*="rounded"] span,
[class*="border"][class*="rounded"] div,
[class*="border"][class*="rounded"] p,
[class*="border-l"] span,
[class*="border-l"] div,
[class*="border-emerald"] span,
[class*="border-green"] span {
  overflow-wrap: break-word !important;
  word-wrap: break-word !important;
  word-break: break-all !important;
  text-decoration: none !important;
  max-width: 100% !important;
}

/* Collapsed/expandable tool results */
details,
summary,
details *,
summary * {
  overflow-wrap: break-word !important;
  word-wrap: break-word !important;
  word-break: break-word !important;
  text-decoration: none !important;
  max-width: 100% !important;
}

/* Tool call icon + text containers */
[class*="flex"][class*="items-center"],
[class*="flex"][class*="gap"] {
  max-width: 100% !important;
  overflow-x: hidden !important;
}

[class*="flex"][class*="items-center"] span,
[class*="flex"][class*="gap"] span {
  overflow-wrap: break-word !important;
  word-break: break-all !important;
  text-decoration: none !important;
}

/* Ensure all text in tool areas has no strikethrough */
[class*="text-emerald"],
[class*="text-green"],
[class*="text-slate"],
[class*="text-gray"] {
  text-decoration: none !important;
}

/* Fix truncation - allow wrapping instead */
[class*="truncate"],
.truncate {
  overflow: visible !important;
  text-overflow: clip !important;
  white-space: normal !important;
  overflow-wrap: break-word !important;
  word-break: break-word !important;
}

/* Session history cards */
[class*="cursor-pointer"][class*="rounded"][class*="border"],
div[class*="hover:bg"] {
  overflow: visible !important;
}

[class*="cursor-pointer"][class*="rounded"][class*="border"] span,
[class*="cursor-pointer"][class*="rounded"][class*="border"] div {
  overflow: visible !important;
  text-overflow: clip !important;
  white-space: normal !important;
  word-break: break-all !important;
}

/* ============================================
   TOOL RESULT EMERALD BOX
   ============================================ */

/* Target the specific emerald tool result container - dark background */
.bg-emerald-50\/80,
.dark\:bg-emerald-900\/20,
[class*="bg-emerald-50"],
[class*="bg-emerald-900"] {
  background-color: #2e2e2e !important;
  overflow: hidden !important;
  max-width: 100% !important;
  padding: 12px 12px 16px 12px !important;
  min-height: 44px !important;
}

/* The inner flex container with tool name */
.bg-emerald-50\/80 > div,
[class*="bg-emerald-50"] > div,
[class*="bg-emerald-900"] > div,
.text-emerald-800,
.dark\:text-emerald-300,
[class*="text-emerald"] {
  flex-wrap: wrap !important;
  overflow-wrap: break-word !important;
  word-break: break-all !important;
  max-width: 100% !important;
  padding-bottom: 4px !important;
  line-height: 1.5 !important;
}

/* Tool name span specifically */
.text-emerald-800 span,
.dark\:text-emerald-300 span,
[class*="text-emerald"] span,
[class*="bg-emerald"] span {
  overflow-wrap: break-word !important;
  word-break: break-all !important;
  max-width: 100% !important;
  display: inline-block !important;
  margin-bottom: 2px !important;
}

/* User bubble header (darker part with "User" label) */
[class*="bg-teal-600"],
[class*="bg-teal-700"],
[class*="bg-teal-800"],
[class*="bg-teal-900"],
[class*="bg-cyan-600"],
[class*="bg-cyan-700"],
[class*="bg-cyan-800"],
[class*="bg-cyan-900"],
.dark .bg-teal-700,
.dark .bg-teal-800,
.dark .bg-teal-900 {
  background-color: var(--banana-600) !important;
  color: #1a1a1a !important;
}

/* Force all teal text to dark */
[class*="text-teal"],
[class*="text-cyan"],
.text-teal-100,
.text-teal-200,
.text-teal-300,
.text-teal-50 {
  color: #1a1a1a !important;
}

/* Tool invocation containers - dark backgrounds */
[class*="rounded"][class*="bg-slate"],
[class*="rounded"][class*="bg-gray"],
[class*="rounded"][class*="bg-zinc"] {
  background-color: #2e2e2e !important;
  border: 1px solid var(--border-color) !important;
}

/* All tool result boxes - dark background override */
[class*="bg-emerald"],
[class*="bg-green"]:not(.text-green-500):not(.text-green-600),
[class*="rounded-lg"][class*="border"] {
  background-color: #2e2e2e !important;
}

/* Any remaining light backgrounds in chat */
div[class*="dark:bg-"],
span[class*="dark:bg-"] {
  background-color: var(--content-bg) !important;
}

/* Checkbox/icon success states */
.text-green-500,
.text-emerald-500,
svg[class*="text-green"],
svg[class*="text-emerald"] {
  color: var(--status-success) !important;
}

/* Smooth transitions */
body,
header,
aside,
div,
button,
a,
span {
  transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease;
}

/* ============================================
   FORCE DARK BACKGROUNDS ON ALL TOOL BUBBLES
   (except User and Claude message bubbles)
   ============================================ */

/* Override any banana/tan backgrounds from light theme on tool boxes */
[class*="bg-emerald"] {
  background-color: #2e2e2e !important;
  color: var(--foreground) !important;
}

[class*="bg-green-5"],
[class*="bg-green-6"],
[class*="bg-green-7"],
[class*="bg-green-8"],
[class*="bg-green-9"] {
  background-color: #252525 !important;
  color: var(--foreground) !important;
}

/* Emerald text should be light green in dark mode */
[class*="text-emerald"],
[class*="text-green"] {
  color: var(--status-success) !important;
}

/* Tool result header bars */
[class*="rounded-t"][class*="bg-"],
[class*="rounded-lg"][class*="flex"][class*="items-center"] {
  background-color: #252525 !important;
}

/* N8N Session Highlight - 772b3f87 */
.n8n-highlight {
  background: linear-gradient(135deg, #5a4a3a, #4a3a2a) !important;
  border: 2px solid #d4a574 !important;
  box-shadow: 0 2px 8px rgba(212, 165, 116, 0.3) !important;
  position: relative !important;
}
.n8n-highlight::after {
  content: "N8N";
  position: absolute;
  top: 4px;
  right: 4px;
  background: #d4a574;
  color: #1a1a1a;
  font-size: 9px;
  font-weight: 700;
  padding: 2px 6px;
  border-radius: 6px;
}

/* Header pre/code elements - transparent background */
header pre,
header code,
nav pre,
nav code,
.flex.items-center pre,
.flex.items-center code,
[class*="breadcrumb"] pre,
[class*="breadcrumb"] code {
  background-color: transparent !important;
  background: transparent !important;
}
